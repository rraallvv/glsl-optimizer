varying vec4 xlv_FOG;
uniform vec4 _SpecColor;
uniform float _Shininess;
uniform sampler2D _MainTex;
uniform vec4 _LightColor0;
uniform float _Cutoff;
uniform vec4 _Color;
void main ()
{
  vec3 tmpvar_77;
  vec3 tmpvar_78;
  tmpvar_77 = gl_TexCoord[2].xyz;
  tmpvar_78 = gl_TexCoord[3].xyz;
  vec4 c;
  vec3 tmpvar_79;
  vec3 tmpvar_80;
  float tmpvar_82;
  float tmpvar_83;
  float tmpvar_84;
  vec4 tmpvar_42;
  tmpvar_42 = texture2D (_MainTex, gl_TexCoord[0].xy);
  float tmpvar_46;
  tmpvar_46 = (tmpvar_42.w * _Color.w);
  tmpvar_79 = (tmpvar_42.xyz * _Color.xyz);
  tmpvar_80 = gl_TexCoord[1].xyz;
  tmpvar_82 = _Shininess;
  tmpvar_83 = tmpvar_42.w;
  tmpvar_84 = tmpvar_46;
  float x;
  x = (tmpvar_46 - _Cutoff);
  if ((x < 0.000000)) {
    discard;
  };
  vec4 c_i0;
  float tmpvar_62;
  tmpvar_62 = (pow (max (0.000000, dot (tmpvar_80, normalize ((tmpvar_77 + normalize (tmpvar_78.xyz))))), (tmpvar_82 * 128.000000)) * tmpvar_83);
  c_i0.xyz = ((((tmpvar_79 * _LightColor0.xyz) * max (0.000000, dot (tmpvar_80, tmpvar_77))) + ((_LightColor0.xyz * _SpecColor.xyz) * tmpvar_62)) * 2.000000).xyz;
  c_i0.w = float(vec4((tmpvar_84 + ((_LightColor0.w * _SpecColor.w) * tmpvar_62))));
  c = c_i0;
  c.w = float(vec4(tmpvar_84));
  gl_FragData[0] = c.xyzw;
}

