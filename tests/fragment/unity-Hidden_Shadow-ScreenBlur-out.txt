uniform vec4 unity_ShadowBlurParams;
uniform sampler2D _MainTex;
uniform vec4 _BlurOffsets[8];
void main ()
{
  int i_1_1;
  float diffTolerance_2;
  float radius_3;
  float dist_4;
  vec4 mask_5;
  vec4 coord_6;
  i_1_1 = 0;
  vec4 tmpvar_7;
  tmpvar_7.zw = vec2(0.00000, 0.00000);
  tmpvar_7.xy = gl_TexCoord[0].xy;
  coord_6 = tmpvar_7;
  vec4 tmpvar_8;
  tmpvar_8 = texture2D (_MainTex, tmpvar_7.xy);
  mask_5.zw = tmpvar_8.zw;
  float tmpvar_9;
  tmpvar_9 = (tmpvar_8.z + (tmpvar_8.w / 255.000));
  dist_4 = tmpvar_9;
  radius_3 = clamp ((unity_ShadowBlurParams.y / (1.00000 - tmpvar_9)), 0.00000, 1.00000);
  diffTolerance_2 = unity_ShadowBlurParams.x;
  mask_5.xy = (tmpvar_8.xy * unity_ShadowBlurParams.x);
  for (int i_1_1 = 0; i_1_1 < 8; ) {
    vec4 tmpvar_10;
    tmpvar_10 = texture2D (_MainTex, (coord_6 + (radius_3 * _BlurOffsets[i_1_1])).xy);
    mask_5.xy = (mask_5.xy + (clamp ((diffTolerance_2 - abs((dist_4 - (tmpvar_10.z + (tmpvar_10.w / 255.000))))), 0.00000, 1.00000) * tmpvar_10.xy));
    i_1_1 = (i_1_1 + 1);
  };
  gl_FragData[0] = vec4((mask_5.x / mask_5.y));
}

